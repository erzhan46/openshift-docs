// Module filename: nw-annotating-a-route-with-a-cookie-name.adoc
// Use module with the following module:
// nw-using-cookies-keep-route-statefulness.adoc
//
// Module included in the following assemblies:
//
// * networking/configuring-routing.adoc

[id="nw-annotating-a-route-with-a-cookie-name_{context}"]
= Annotating a route with a cookie

You can set a cookie name to overwrite the default, auto-generated one for the
route. This allows the application receiving route traffic to know the cookie
name. By deleting the cookie it can force the next request to re-choose an
endpoint. So, if a server was overloaded it tries to remove the requests from the
client and redistribute them.

.Procedure

. Annotate the route with the desired cookie name:
+
[source,terminal]
----
$ oc annotate route <route_name> router.openshift.io/cookie_name="<cookie_name>"
----
+
For example, to annotate `my_route` route with the cookie name `my_cookie` run:
+
[source,terminal]
----
$ oc annotate route my_route router.openshift.io/cookie_name="my_cookie"
----

. Save the cookie, and access the route:
+
[source,terminal]
----
$ MYROUTE=$(oc get route my_route -o jsonpath='{.spec.host}')

$ curl $MYROUTE -k -o /dev/null -c /tmp/my_cookie

$ cat /tmp/my_cookie
....
#HttpOnly_my_route-...	FALSE	/	FALSE	0	my_cookie	aeb1...f2
...
----
